"use strict";(self.webpackChunkreact_music_web=self.webpackChunkreact_music_web||[]).push([[817],{2212:function(n,t,i){i.d(t,{nR:function(){return o},iF:function(){return e},OF:function(){return a}});var o=8,e=10,a=30;window.onerror=function(n){console.log("window.onerror=>",n)}},1899:function(n,t,i){i.d(t,{Z:function(){return s}});var o,e=i(2791),a=i(4215),r=i(168),c=i(5751).ZP.div(o||(o=(0,r.Z)(["\n  .album-image {\n    position: relative;\n    width: ",";\n    height: ",";\n    overflow: hidden;\n    margin-top: 15px;\n\n    img {\n      width: ",";\n      height: ",";\n    }\n\n    .cover {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      background-position: 0 ",";\n      text-indent: -9999px;\n    }\n  }\n\n  .album-info {\n    font-size: 12px;\n    width: ",";\n    .name {\n      color: #000;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n\n    .artist {\n      color: #666;\n    }\n  }\n"])),(function(n){return n.width}),(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.bgp}),(function(n){return n.size})),l=i(184),s=(0,e.memo)((function(n){var t=n.info,i=n.size,o=void 0===i?"100px":i,e=n.width,r=void 0===e?"118px":e,s=n.bgp,u=void 0===s?"-570px":s;return(0,l.jsxs)(c,{size:o,width:r,bgp:u,children:[(0,l.jsxs)("div",{className:"album-image",children:[(0,l.jsx)("img",{src:(0,a.Vx)(t.picUrl,150),alt:""}),(0,l.jsx)("a",{href:"/abc",className:"cover sprite_covor",children:t.name})]}),(0,l.jsxs)("div",{className:"album-info",children:[(0,l.jsx)("div",{className:"name",children:t.name}),(0,l.jsx)("div",{className:"artist",children:t.artist.name})]})]})}))},817:function(n,t,i){i.r(t),i.d(t,{default:function(){return v}});var o=i(9439),e=i(2791),a=i(2978),r=i(7828);function c(n,t){return(0,r.Z)({url:"/top/album",params:{limit:n,offset:t}})}var l,s=i(163),u=i(2212),m=function(n){return{type:s.Tw,topAlbumsList:n}},p=function(n){return{type:s.to,albumTotal:n}},d=function(){return function(n){(0,r.Z)({url:"/album/newest"}).then((function(t){var i;t&&200===t.code&&t.albums&&n((i=t.albums,{type:s.nI,hotAlbumsList:i}))})).catch((function(n){console.error("album-actionCreator=>",n)}))}},f=i(1899),b=i(7423),h=i(168),g=i(5751).ZP.div(l||(l=(0,h.Z)(["\n  width: 100%;\n  background-color: #f5f5f5;;\n  .content{\n    background-color: #fff;\n  padding: 40px;\n  }\n  .title{\n    line-height: 44px;\n    font-size: 24px;\n    padding-bottom: 5px;\n    border-bottom: 2px solid #c20c0c;\n  }\n\n  .album-list{\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n  .pagination{\n    width: max-content;\n    margin: 30px auto 10px;\n    .ant-pagination-item-active{\n      background-color: #c20c0c;\n      border:none;\n      a{\n        color: #fff;\n      }\n    }\n    .ant-pagination-item:hover{\n      border-color:#c20c0c;\n      transition: all 0.3s;\n      a{\n        color: #c20c0c;\n      }\n    }\n    .ant-pagination-item-active:hover a{\n      color: #fff;\n    }\n    .ant-pagination-prev:hover .ant-pagination-item-link:not([disabled]),\n    .ant-pagination-next:hover .ant-pagination-item-link:not([disabled]){\n      color: #c20c0c;\n      border-color: #c20c0c;\n    }\n\n    .ant-pagination-jump-prev .ant-pagination-item-container .ant-pagination-item-link-icon,\n    .ant-pagination-jump-next .ant-pagination-item-container .ant-pagination-item-link-icon {\n      color: #c20c0c;\n    }\n  }\n"]))),x=i(184),v=(0,e.memo)((function(n){var t=(0,e.useState)(1),i=(0,o.Z)(t,2),r=i[0],l=i[1],s=(0,a.I0)(),h=(0,a.v9)((function(n){return{hotAlbumsList:n.getIn(["album","hotAlbumsList"]),topAlbumsList:n.getIn(["album","topAlbumsList"]),albumTotal:n.getIn(["album","albumTotal"])}}),a.wU),v=h.hotAlbumsList,j=void 0===v?[]:v,k=h.topAlbumsList,z=void 0===k?[]:k,Z=h.albumTotal,N=void 0===Z?0:Z;(0,e.useEffect)((function(){s(d())}),[s]),(0,e.useEffect)((function(){s(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){c(u.OF,(n-1)*u.OF).then((function(n){n&&200===n.code&&n.albums&&t(m(n.albums)),t(p(n.total))})).catch((function(n){console.error("getTopAlbums err",n)}))}}(r))}),[s,r]);var A=(0,e.useCallback)((function(n,t){l(n)}),[]);return(0,x.jsx)(g,{children:(0,x.jsxs)("div",{className:"content wrap-v2",children:[(0,x.jsx)(w,{title:"\u70ed\u95e8\u65b0\u789f"}),(0,x.jsx)("div",{className:"album-list",children:j.slice(0,10).map((function(n,t){return(0,x.jsx)(f.Z,{size:"130px",width:"153px",bgp:"-845px",info:n},n.id)}))}),(0,x.jsx)(w,{title:"\u5168\u90e8\u65b0\u789f"}),(0,x.jsx)("div",{className:"album-list",children:z.map((function(n,t){return(0,x.jsx)(f.Z,{size:"130px",width:"153px",bgp:"-845px",info:n},n.id)}))}),(0,x.jsx)("div",{className:"pagination",children:(0,x.jsx)(b.Z,{total:N,defaultPageSize:u.OF,current:r,showSizeChanger:!1,onChange:A})})]})})}));function w(n){return(0,x.jsx)("h2",{className:"title",children:n.title?n.title:"\u9ed8\u8ba4\u6807\u9898"})}}}]);
//# sourceMappingURL=817.aa929c32.chunk.js.map