(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aabfb8fc"],{"0cb2":function(t,e,a){var n=a("e330"),r=a("7b0b"),i=Math.floor,o=n("".charAt),c=n("".replace),s=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,n,d,f){var h=a+t.length,v=n.length,g=u;return void 0!==d&&(d=r(d),g=l),c(f,g,(function(r,c){var l;switch(o(c,0)){case"$":return"$";case"&":return t;case"`":return s(e,0,a);case"'":return s(e,h);case"<":l=d[s(c,1,-1)];break;default:var u=+c;if(0===u)return r;if(u>v){var f=i(u/10);return 0===f?r:f<=v?void 0===n[f-1]?o(c,1):n[f-1]+o(c,1):r}l=n[u-1]}return void 0===l?"":l}))}},"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),i=a("785a"),o=a("17c2"),c=a("9112"),s=function(t){if(t&&t.forEach!==o)try{c(t,"forEach",o)}catch(e){t.forEach=o}};for(var l in r)r[l]&&s(n[l]&&n[l].prototype);s(i)},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),i=r("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"36c1":function(t,e,a){"use strict";a("4e5c")},"3c2e":function(t,e,a){"use strict";a("6eab")},"3c48":function(t,e,a){},"4e5c":function(t,e,a){},5319:function(t,e,a){"use strict";var n=a("2ba4"),r=a("c65b"),i=a("e330"),o=a("d784"),c=a("d039"),s=a("825a"),l=a("1626"),u=a("5926"),d=a("50c4"),f=a("577e"),h=a("1d80"),v=a("8aa5"),g=a("dc4a"),b=a("0cb2"),p=a("14c3"),C=a("b622"),m=C("replace"),y=Math.max,k=Math.min,_=i([].concat),$=i([].push),B=i("".indexOf),x=i("".slice),I=function(t){return void 0===t?t:String(t)},L=function(){return"$0"==="a".replace(/./,"$0")}(),w=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),E=!c((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));o("replace",(function(t,e,a){var i=w?"$":"$0";return[function(t,a){var n=h(this),i=void 0==t?void 0:g(t,m);return i?r(i,t,n,a):r(e,f(n),t,a)},function(t,r){var o=s(this),c=f(t);if("string"==typeof r&&-1===B(r,i)&&-1===B(r,"$<")){var h=a(e,o,c,r);if(h.done)return h.value}var g=l(r);g||(r=f(r));var C=o.global;if(C){var m=o.unicode;o.lastIndex=0}var L=[];while(1){var w=p(o,c);if(null===w)break;if($(L,w),!C)break;var E=f(w[0]);""===E&&(o.lastIndex=v(c,d(o.lastIndex),m))}for(var T="",G=0,O=0;O<L.length;O++){w=L[O];for(var j=f(w[0]),z=y(k(u(w.index),c.length),0),R=[],S=1;S<w.length;S++)$(R,I(w[S]));var A=w.groups;if(g){var M=_([j],R,z,c);void 0!==A&&$(M,A);var J=f(n(r,void 0,M))}else J=b(j,c,z,R,A,r);z>=G&&(T+=x(c,G,z)+J,G=z+j.length)}return T+x(c,G)}]}),!E||!L||w)},"5de9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"channel"}},[a("TopBar",{on:{goBack:t.handleBack}}),a("TabControl",{attrs:{brotherCategory:t.brotherCategory},on:{tabItemClick:t.handleTabItemClick}}),a("Goods",{attrs:{"goods-list":t.goodsList},on:{refresh:t.handleRefresh}}),a("BottomTip")],1)},r=[],i=(a("ac1f"),a("5319"),a("9f74")),o=a("757d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-sticky",[a("div",{staticClass:"top-bar"},[a("van-icon",{staticClass:"back",attrs:{name:"arrow-left"},on:{click:t.handleBack}}),a("div",{staticClass:"title"},[t._v("严选商城")])],1)])},s=[],l={name:"TopBar",methods:{handleBack:function(){this.$emit("goBack")}}},u=l,d=(a("8d31"),a("2877")),f=Object(d["a"])(u,c,s,!1,null,"0b4c9280",null),h=f.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("div",{staticClass:"goods"},[a("ul",{staticClass:"goods-list"},t._l(t.goodsList,(function(e){return a("li",{key:e.id,staticClass:"goods-item"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.list_pic_url,expression:"item.list_pic_url"}],attrs:{alt:e.name}}),a("p",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"price"},[t._v(t._s(t._f("priceFormat")(e.retail_price)))])])})),0)])])},g=[],b={name:"Goods",props:{goodsList:{type:Array,default:function(){return{}}}},data:function(){return{isLoading:!1}},methods:{onRefresh:function(){this.$emit("refresh",this.changeLoadingState)},changeLoadingState:function(t){console.log("loadingCallBack"),this.isLoading=t}}},p=b,C=(a("68df"),Object(d["a"])(p,v,g,!1,null,"26d6044a",null)),m=C.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-control"},[a("van-tabs",{on:{click:t.tabItemClick},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.brotherCategory,(function(e){return a("van-tab",{key:e.id,scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(e.name))]},proxy:!0}],null,!0)},[a("h2",{staticClass:"name"},[t._v(t._s(e.name))]),a("p",{staticClass:"front-name"},[t._v(t._s(e.front_name))])])})),1)],1)},k=[],_=(a("d3b7"),a("159b"),{name:"TabControl",data:function(){return{id:"",active:0}},props:{brotherCategory:{type:Array,default:function(){return[]}}},methods:{tabItemClick:function(t){this.$emit("tabItemClick",t)}},watch:{brotherCategory:function(){var t=this;this.brotherCategory.length?this.brotherCategory.forEach((function(e,a){t.id==e.id&&(t.active=a)})):this.active=0}},created:function(){this.id=this.$route.params.id}}),$=_,B=(a("3c2e"),Object(d["a"])($,y,k,!1,null,"dec9101e",null)),x=B.exports,I={name:"Channel",data:function(){return{id:"",brotherCategory:[],currentCategory:{},goodsList:[],isLoading:!1,loadingCallBack:null}},components:{BottomTip:o["default"],TopBar:h,Goods:m,TabControl:x},methods:{getChannelById:function(t){var e=this;Object(i["c"])(t).then((function(t){if(console.log("getChannel==>",t),0===t.errno){var a=t.data,n=a.brotherCategory,r=a.currentCategory;e.brotherCategory=n,e.currentCategory=r}}))},getChannelGoodsById:function(t){var e=this;Object(i["d"])(t).then((function(t){if(e.isLoading=!1,0===t.errno){var a=t.data.goodsList;e.goodsList=a}e.loadingCallBack&&e.loadingCallBack(!1)}))},handleBack:function(){this.$router.back()},handleTabItemClick:function(t){this.id=this.brotherCategory[t].id,this.$router.replace("/channel/".concat(this.id)),this.getChannelGoodsById({categoryId:this.id,page:1,size:1e3})},handleRefresh:function(t){this.loadingCallBack=t,this.loadingCallBack(!0),this.getChannelGoodsById({categoryId:this.id,page:1,size:1e3})}},created:function(){var t=this.$route.params.id;this.id=t,this.getChannelById({id:t}),this.getChannelGoodsById({categoryId:this.id,page:1,size:1e3})}},L=I,w=(a("36c1"),Object(d["a"])(L,n,r,!1,null,"782fe744",null));e["default"]=w.exports},"65f2":function(t,e,a){},"68df":function(t,e,a){"use strict";a("65f2")},"6eab":function(t,e,a){},"8d31":function(t,e,a){"use strict";a("3c48")},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}}}]);
//# sourceMappingURL=chunk-aabfb8fc.fd40eff2.js.map